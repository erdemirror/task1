<!DOCTYPE html>
<html lang="mn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>task2</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>React</h1>
    </header>

    <nav>
      <a href="index.html">JavaScript</a> |
      <a href="react.html">React</a>
    </nav>

    <main>
      <section>
        <h3>useState</h3>
        <p>
          <code>useState</code> нь нэг Hook бөгөөд компонентууд дотор төлөв
          (state) хадгалах, удирдах боломжийг олгодог — өмнө нь зөвхөн класс
          компонентуудад боломжтой байсан юм. <code>useState</code> ашиглахад
          хоёр элементтэй массив буцаадаг: одоогийн төлөв болон түүнийг шинэчлэх
          функц.
        </p>
        <p>Жишээ:</p>
        <pre><code>const [count, setCount] = useState(0);

// <code>count</code> нь одоогийн утгыг хадгална (эхэндээ 0)
// <code>setCount</code> нь утгыг шинэчлэх функц    
setCount(count + 1); // count утгыг 1 болгоно</code></pre>
        <p>
          Энэ нь компонент update хийж, шинэчилсэн төлөв дээр суурилсан
          интерфейс үүсэхэд хүргэнэ. Жишээ дээр харуулсан шиг оролтоос нэр
          оруулахад нарийг ашиглах гэх мэт.
        </p>
      </section>

      <section>
        <h3>useEffect</h3>
        <p>
          Маш энгийнээр тайлбарлавал : useEffect гэдэг нь React-д ямар нэг
          “ажил” (effect) хийхэд тусалдаг hook юм.
        </p>
        <ul>
          <li>Data fetch хийх</li>
          <li>Timer ажиллуулах</li>
          <li>Alert, event listener нэмэх etc.</li>
        </ul>
        <p>
          React-д компонент бүр дахин зурдаг (render хийдэг), гэхдээ бид
          тодорхой нэг удаа л хийх ёстой (жишээ нь серверээс мэдээлэл авах эсвэл
          timer эхлүүлэх) үйлдлийг дахин дахин хиймээргүй байдаг.
        </p>

        <p>Жишээ:</p>
        <pre><code>useEffect(() => {
  console.log('Component mounted');
  // Энд өгөгдөл татах эсвэл үзүүлэлт тохируулах
  
  return () => {
    console.log('Component dismounted');
    // Компонент устахад эсвэл дараагийн эффект эхлэхээс өмнө цэвэрлэх код ажиллана
  };
}, []);</code></pre>
      </section>

      <section>
        <h3>useReducer</h3>
        <p>
          <code>useReducer</code> нь <code>useState</code>-ээс илүү нарийн төлөв
          удирдах боломжтой React hook юм. Энэ нь Redux-ийн reducer загвараас
          санаа авч бүтээгдсэн.
        </p>
        <p>
          <code>useReducer</code> ашиглан та <strong>reducer функц</strong>-ийг
          тодорхойлж өгдөг бөгөөд энэ функц одоогийн төлөв болон
          <strong>action</strong> (үйлдэл)-ийг авч шинэ төлөв буцаадаг.
        </p>
        <p>Хэрэглэх жишээ:</p>
        <pre><code>const [state, dispatch] = useReducer(reducer, initialState);

function reducer(state, action) {
  switch (action.type) {
    case 'increment':
      return { count: state.count + 1 };
    case 'decrement':
      return { count: state.count - 1 };
    default:
      return state;
  }
}

dispatch({ type: 'increment' }); // Үйлдлийг илгээж төлөв шинэчилнэ</code></pre>
        <p>
          Энэхүү загвар нь өмнөх төлөв дээр тулгуурласан эсвэл олон холбоотой
          утгуудтай төлөвтэй ажиллахад тохиромжтой. Тухайлбал, нарийн формууд
          эсвэл олон шаттай процессуудад ашиглагддаг.
        </p>
      </section>

      <section>
        <h3>use</h3>
        <p>
          <code>use</code> функц нь React v18+ хувилбарт нэвтрүүлсэн шинэ бөгөөд
          туршилтын React API бөгөөд таныг promise-ууд эсвэл Серверийн
          бүрэлдэхүүн хэсэг эсвэл туршилтын үйлчлүүлэгчийн онцлог зэрэг асинхрон
          эх сурвалжуудтай хэрхэн ажиллахыг хялбаршуулдаг.
        </p>
        <p>
          <strong>use()</strong> hook нь бүрэлдэхүүн хэсэг доторх promise эсвэл
          context утгыг шууд задалдаг.
        </p>
        <p>
          Одоогоор <code>use()</code> нь ихэвчлэн туршилтын болон дотоод React
          онцлогт ашиглагдаж байгаа ч ирээдүйд асинхрон рендерийн гол хэсэг
          болох төлөвтэй.
        </p>
        <p>
          React Hooks-ээс ялгаатай нь use-ийг loop болон if гэх мэт нөхцөлт
          хэллэг дотор дуудаж болно. React Hooks-ийн нэгэн адил хэрэглээг
          дууддаг функц нь Component эсвэл Hook байх ёстой.
        </p>
        <p>Туршилтын жишээ:</p>
        <pre><code>import { use } from 'react';

function MessageComponent({ messagePromise }) {
        const message = use(messagePromise);
        const theme = use(ThemeContext);</code></pre>
      </section>

      <section>
        <h3>API (Application Programming Interface)</h3>
        <p>
          API гэдэг нь програм хооронд мэдээлэл солилцох. Веб хөгжүүлэлтэд API
          нь ихэвчлэн сервер рүү хүсэлт илгээж, хариу авахад ашиглагддаг.
        </p>

        <p>
          API-ууд сервер, өгөгдлийн сан, гуравдагч талын үйлчилгээтэй холбогддог
          динамик програм бүтээхэд зайлшгүй хэрэгтэй.
        </p>
      </section>

      <section>
        <h3>Өгөгдөл татах (Data Fetching)</h3>
        <p>
          Өгөгдөл татах гэдэг нь API эсвэл серверээс мэдээлэл авч ашиглах
          процесс юм.
        </p>
        <p>Ердийн алхмууд:</p>
        <ol>
          <li>
            Компонент үүсэх үед <code>useEffect</code> ашиглан хүсэлт эхлүүлэх
          </li>
          <li>
            <code>fetch()</code> эсвэл <code>axios</code> зэрэг library ашиглан
            өгөгдөл авах
          </li>
          <li><code>useState</code> ашиглан өгөгдлийг төлөвд хадгалах</li>
          <li>Өгөгдөлд тулгуурлан UI-г дүрслэх</li>
        </ol>
        <p>Жишээ:</p>
        <pre><code>import React, { useState, useEffect } from 'react';

function UsersList() {
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetch('https://api.example.com/users')
      .then(res =&gt; {
        if (!res.ok) throw new Error('Сүлжээний алдаа');
        return res.json();
      })
      .then(data =&gt; {
        setUsers(data);
        setLoading(false);
      })
      .catch(err =&gt; {
        setError(err.message);
        setLoading(false);
      });
  }, []);

  if (loading) return &lt;p&gt;Ачааллаж байна...&lt;/p&gt;;
  if (error) return &lt;p&gt;Алдаа: {error}&lt;/p&gt;;

  return (
    &lt;ul&gt;
      {users.map(user =&gt; (
        &lt;li key={user.id}&gt;{user.name}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}</code></pre>
        <p>
          Энэ загвар нь таны апп-д гадаад эх сурвалжаас динамикаар өгөгдөл
          дүрслэх боломж олгодог.
        </p>
      </section>
    </main>
  </body>
</html>
